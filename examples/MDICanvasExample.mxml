<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute"
	xmlns:managers="mdi.managers.*"
	xmlns:samples="sample_content.*"
	creationComplete="init()" viewSourceURL="srcview/index.html" 
	xmlns:flexmdi="http://flexmdi.googlecode.com/">
	<mx:Style source="/assets/css/style.css" />
	
	
	
	<mx:Script>
		<![CDATA[
			import flexmdi.effects.effectsLib.MDIVistaEffectsDescriptor;
			import mx.events.CloseEvent;
			import flash.debugger.enterDebugger;
			import flexmdi.events.MDIWindowEvent;
			import mx.controls.Alert;
			import flexmdi.events.MDIManagerEvent;
			
			private var queuedEvent:MDIManagerEvent;
			
			private function init():void
			{
				mdic.windowManager.addEventListener(MDIWindowEvent.CLOSE, onWinClose);
			}
			
			private function onWinClose(event:Event):void
			{
				if(event is MDIManagerEvent)
				{
					queuedEvent = event as MDIManagerEvent;
					event.stopImmediatePropagation();					
					Alert.show("Seriously?", "Confirm close", 3, null, confirmClose);
				}
			}
			
			private function confirmClose(event:CloseEvent):void
			{
				if(event.detail == mx.controls.Alert.YES)
				{
					mdic.windowManager.executeDefaultBehavior(queuedEvent);
				}
			}
		]]>
	</mx:Script>
	
	<mx:HBox width="100%" height="100%">
		
		
	
	<mx:VBox width="30%" paddingLeft="10" paddingRight="10">
		<mx:Button label="Cascade" click="mdic.windowManager.cascade()" width="100%" />
		<mx:Button label="Tile" click="mdic.windowManager.tile()" width="100%" />
		<mx:Button label="Tile + Fill" click="mdic.windowManager.tile(true)" width="100%" />
	</mx:VBox>
	
	<mx:TabNavigator width="70%" height="100%">
	
		<flexmdi:MDICanvas label="Panel 1" id="mdic" x="100" width="100%" height="100%" creationComplete="this.mdic.windowManager.cascade()" 
			backgroundColor="#CCCCCC" effectsLib="{flexmdi.effects.effectsLib.MDIVistaEffectsDescriptor}">
			
			<flexmdi:MDIWindow id="win11" title="Window One" width="40%" height="40%">
				<samples:SampleContent />
			</flexmdi:MDIWindow>
			<flexmdi:MDIWindow id="win12" title="Window Two" width="40%" height="40%">
				<samples:SampleContent />
			</flexmdi:MDIWindow>
			<flexmdi:MDIWindow id="win13" title="Window Three" width="40%" height="40%">
				<samples:SampleContent />
			</flexmdi:MDIWindow>
		</flexmdi:MDICanvas>
		
		
		
		<flexmdi:MDICanvas label="Panel 2" id="mdic2" x="100" width="100%" height="100%" backgroundColor="#CCCCCC" 
			effectsLib="{flexmdi.effects.effectsLib.MDIVistaEffectsDescriptor}" creationComplete="this.mdic2.windowManager.tile()">
			
			<flexmdi:MDIWindow id="win21" title="Window One" width="40%" height="40%">
				<samples:SampleContent />
			</flexmdi:MDIWindow>
			<flexmdi:MDIWindow id="win22" title="Window Two" width="40%" height="40%">
				<samples:SampleContent />
			</flexmdi:MDIWindow>
			<flexmdi:MDIWindow id="win23" title="Window Three" width="40%" height="40%">
				<samples:SampleContent />
			</flexmdi:MDIWindow>
		</flexmdi:MDICanvas>
		
		
	</mx:TabNavigator>
	
	</mx:HBox>
	
</mx:Application>
