<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" creationComplete="onCreationComplete()"  >
	
	<mx:Script>
		<![CDATA[
			import mx.events.CloseEvent;
			import mx.controls.Alert;
			import flexmdi.managers.MDIManager;
			import flexmdi.containers.MDIWindow;
			import flexmdi.effects.effectsLib.MDIVistaEffectsDescriptor;
			
			public function onCreationComplete():void
			{
				MDIManager.global.effects = new MDIVistaEffectsDescriptor();
			}
			
			public function addWindow():void
			{

				var win : MDIWindow = new MDIWindow();
				win.title = "Managed by Global Instance";
				win.width = 400;
				win.height = 300;
				//win.closeHandler = onClose;
				// the global manager is accessed by using MDIManager.global 
				MDIManager.global.add(win);
			}
			
			public function onClose(window:MDIWindow):void
			{
				Alert.show("Are you sure you ?", "Confirmation", Alert.YES|Alert.NO, this, confirmHandler, null, Alert.NO);
			}
			
			private function confirmHandler(event:CloseEvent):void 
			{
				if (event.detail == Alert.YES) 
				{
					
				} 
				
			}
			
			
			
		]]>
	</mx:Script>
	
	<mx:Text condenseWhite="true" width="100%">
		<mx:htmlText><![CDATA[ <b>Event Handling</b> ]]></mx:htmlText>
	</mx:Text>
	
	
	<mx:Button click="addWindow()" label="Add New Window" />
	
	
</mx:VBox>
